<!DOCTYPE html>
<html>
    <head>
        <title>EBA - Architecture Overview</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            EBA - Architecture Overview
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    
                    <div id="main-content" class="wiki-content group">
                    <h1 id="EBA-ArchitectureOverview-ArchitectureOverview">Architecture Overview</h1><p style="text-align: center;">The following diagram describes the architectural sub-systems within the EBSA environment. The diagram represents the components within each sub-system and the key actors and systems they interface with.</p><p style="text-align: left;"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/65471092/65492017.png" data-image-src="attachments/65471092/65492017.png" data-unresolved-comment-count="0" data-linked-resource-id="65492017" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="Architecture Overview.png" data-base-url="https://<confluenceurl>" data-linked-resource-content-type="image/png" data-linked-resource-container-id="65471092" data-linked-resource-container-version="13"></span></p><h1 id="EBA-ArchitectureOverview-ArchitectureSubsystems">Architecture Subsystems</h1><h2 id="EBA-ArchitectureOverview-EnvironmentBuildandManagement">Environment Build and Management</h2><p>The Environment Build and Management subsystem will be used to provision brand new environments, provision subsequent changes, and manage the day to day operation of those environments.</p><p>The following diagram shows the interaction of components within the Environment Build and Management subsystem:</p><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/65471092/65491991.png" data-image-src="attachments/65471092/65491991.png" data-unresolved-comment-count="0" data-linked-resource-id="65491991" data-linked-resource-version="5" data-linked-resource-type="attachment" data-linked-resource-default-alias="EnvironmentBuildAndManagement.png" data-base-url="https://<confluenceurl>" data-linked-resource-content-type="image/png" data-linked-resource-container-id="65471092" data-linked-resource-container-version="13"></span></p><p>The name, description, key interfaces and realisation of each component within this subsystem are described within the following table:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" class="confluenceTh">Component Name</th><th colspan="1" class="confluenceTh">Responsibilities and Key Interfaces</th><th colspan="1" class="confluenceTh">Realised by</th></tr><tr><td colspan="1" class="confluenceTd">Environment Design</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for producing the Environment Definition files (environment designs) as an XML file in accordance with the EBA Agnostic Configuration Schema.</p><p><u>Key Interfaces</u></p><p>An EBSA Admin creates environment designs as Visio designs using a custom stencil. The completed designs are exported using a VB macro as an XML file conforming to the EBA provider agnostic configuration schema and pushed into the Environment Action Repository by an EBSA Admin.</p></td><td colspan="1" class="confluenceTd">Microsoft Visio 2010 and later. Visio export written in Visual Basic.</td></tr><tr><td class="confluenceTd">Environment Action Repository</td><td class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for storing (under configuration management control) a set of configuration files, which are used to define the configuration of an environment and the actions to perform on that environment:</p><ul><li>An Environment Definition file - describes the virtual applications, networks and virtual machines within the target environment (only relevant for actions that change the hosting environment)</li><li>A set of Execution Plans - describes a set of changes to make to the hosting environment described within the Environment Definition file to perform the action (only relevant for actions that change the hosting environment)</li><li>A dynamic environment data file - extracts a set of dynamic data that differs between environments into a data file.  For example, this would contain IP addresses and fully qualified domain name references to DNS and NTP servers.</li></ul><p>In the case of a new environment build, all three files would be used to specify the necessary meta data to create a new environment from scratch, from the virtual machines and networks to build within the hosting environment (in the related Environment Definition file) to the version of the application to install within that new environment (in the related dynamic environment data file).</p><p><u>Key Interfaces</u></p>Within stream 1 the meta data files will be manually created and committed / pushed into a specific branch within the configuration management tool.  Jobs within the Environment Action Orchestrator will be manually triggered to fulfil different types of environment request.  The orchestrator will pass references to the meta data file into the components it calls to enable them to retrieve that data from the configuration management tool.</td><td class="confluenceTd">This component will be realised by a single Git repository (<a class="external-link" href="http://git-scm.com/" rel="nofollow">http://git-scm.com/</a>) contained within an EBSA project of the programme installation of Stash (<a class="external-link" href="https://www.atlassian.com/software/stash" rel="nofollow">https://www.atlassian.com/software/stash</a>)</td></tr><tr><td colspan="1" class="confluenceTd">Environment Build</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for marshaling the environment definition XML into (import) and out of (export) the Environment Build Repository and for supplying the Environment Action Orchestrator with the data it requires to fulfill the user environment build dialogue.</p><p><u>Key Interfaces</u></p><p><span style="color: rgb(0,0,0);">The Environment Build component will offer two interfaces. One is the import command line interface to invoke an import of an XML environment design into the Environment Build Repository. The second is a command line interface to cause the build plan to be applied to the environment.<strong><u><br /></u></strong></span></p></td><td colspan="1" class="confluenceTd">Executable Java Archive (jar) - containing bespoke Java.</td></tr><tr><td colspan="1" class="confluenceTd">Environment Build Repository</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for storing all versions of the Environment Definitions/Environment that are eligible to be provisioned through the this toolset. The definitions are held in a RM Database in accordance with the provider agnostic database schema.</p><p><u>Key Interfaces</u></p><p>The database will be accessed through an import and export library build into the Environment Build component.</p></td><td colspan="1" class="confluenceTd">Postgres using the Agnostic Provider Database Schema.</td></tr><tr><td class="confluenceTd">Environment Action Orchestrator</td><td class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for running a number of jobs in order to fulfil the required environment action to be performed.</p><p>Each job will call out to other components within the architecture to make changes to change resources within the hosting environment or software on individual virtual machines in order to fulfil the request.</p><p><u>Key Interfaces</u></p><p>Jobs within this component are manually triggered by an EBSA administrator to fulfil the required environment action.</p><p>This component will call the aCloud Client component and the Environment Configuration Orchestration component in order to fulfil environment action events changes.</p>An EBSA admin will view the dashboard of this component to receive a status on jobs that running.</td><td class="confluenceTd"><p>Jenkins</p>(<a class="external-link" href="http://jenkins-ci.org/" rel="nofollow">http://jenkins-ci.org/</a>)</td></tr><tr><td class="confluenceTd">aCloud Client</td><td class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for providing an abstraction layer into either the VMware vCloud Director 5.1 Application Programming Interface (API), or the AWS SDK for Java, to enable EBSA to provision and update resources within the hosting environment.</p><p>This component exposes a simple interface that enables the caller to specify the location of two input XML files, an environment definition file (describing the layout and configuration of hosting resources within a given environment) and an execution plan (describing the actions that should be performed on the environment - e.g. create some of the virtual machines within that environment).</p><p><u>Key Interfaces <br /></u></p>Triggered from a job within the Environment Action Orchestrator component for any actions that require changes to the resources provided by the hosting provider.  Each job will be passed references to the hosting environment definition file and the hosting environment execution plan, to enable this component to retrieve those files from the Environment Action Repository.</td><td class="confluenceTd">Executable Java Archive (jar) - containing bespoke Java that uses the <a class="external-link" href="http://pubs.vmware.com/vcd-51/topic/com.vmware.ICbase/PDF/vcd_51_sdk_java_dg.pdf" rel="nofollow">VMware vCloud Director 5.1 Java Software Development Kit</a> (SDK) layer, or the <a class="external-link" href="https://aws.amazon.com/documentation/sdk-for-java/" rel="nofollow">AWS SDK for Java</a>  to orchestrate the required calls into the VMware vCloud Director 5.1 APIs, or AWS Java APIs.</td></tr><tr><td colspan="1" class="confluenceTd">VM Template</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for containing the VM images of the IPT base operating systems in use, to enable them to be uploaded into a private catalogue within the Cloud Hosting Provider and instantiated into instances of VMs by the aCloud Client component.</p><p><u>Key Interfaces</u></p><p>An EBSA admin will create the base VM images, and upload them into an IPT private catalogue within the Cloud Hosting Provider.</p>This VM template is instantiated from the cloud hosting provider’s web portal or API when provisioning new virtual machines as part of new environment, or as part of updating an existing environment.</td><td colspan="1" class="confluenceTd"><p>IPT private catalogue &gt; RHEL6.5 image</p><p>IPT private catalogue &gt; CentOS 6.5 image</p></td></tr><tr><td colspan="1" class="confluenceTd">Environment Configuration Orchestration</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for orchestrating a set of environment configuration commands to individual or sets of virtual machines prior to those machines being managed by the Environment Configuration Controller component.</p><p><u>Key Interfaces</u></p>Triggered from the Environment Action Orchestrator to apply specific environment configuration to specific virtual machines as part of a set of environment actions.</td><td colspan="1" class="confluenceTd">MCollective (<a class="external-link" href="http://puppetlabs.com/mcollective" rel="nofollow">puppetlabs.com/mcollective</a>) - aka Marionette Collective</td></tr><tr><td colspan="1" class="confluenceTd">Deployment Repository</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for providing a central package manager that installs, updates and removes packages onto single target, or groups of target base operating systems.</p><p>A separate deployment repository will be provided within each distinct organisation security zone to manage the packages deployed to virtual machines within that organisation security zone.</p><p><u>Key Interfaces</u></p><p>Packages will be moved from the Artefact Repository component into the deployment repository component as a result of a deployment event being orchestrated by the Continuous Integration subsystem.</p>Each RHEL and CentOS base operating system will be configured to use the respective deployment repository to manage its packages.</td><td colspan="1" class="confluenceTd">Yum (<a class="external-link" href="http://yum.baseurl.org/" rel="nofollow">http://yum.baseurl.org/</a>) a package manager used by RHEL and CentOS to manage packages in RedHat Package Manager (RPM) format</td></tr><tr><td colspan="1" class="confluenceTd">Environment Configuration Controller</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for maintaining a defined set of environment configuration across a number of managed virtual machines over time.  Modules are defined to manage distinct items of environment configuration e.g. a Network Time Protocol service module.</p><p>This component acts as a master source for managed environment configuration, communicating with agents on each managed virtual machines to ensure that configuration relative to those machines is kept up to date with the master.  This will prevent any managed configuration from drifting on managed virtual machines without those changes being managed and audited by EBSA.</p><p><u>Key Interfaces</u></p><p>Modules and dynamic data used by this component are replicated from the EBSA Source Code Repository.</p><p>The Environment Configuration Controller will use an agent on each managed host to interface with that host.  The agent will gather facts about the host to send back to the controller, which will then send back a compiled set of configuration specific to that host.  If there are differences between the compiled set of changes and the host, they will be applied by the agent on that host.</p>The continuous integration process will request this component to deploy application code to test environments.  This is achieved by changing the version of the application that is being managed on the target node.</td><td colspan="1" class="confluenceTd">Puppet Enterprise (<a href="http://puppetlabs.com/puppet/puppet-enterprise" rel="nofollow">puppetlabs.com/puppet/puppet-enterprise</a>)</td></tr><tr><td colspan="1" class="confluenceTd">Dynamic Environment Data Repository</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for providing the Environment Configuration Controller component with dynamic meta data related to the host (and the context of that host) that it is managing.</p><p>In order to prevent &quot;hard coding&quot; environment or host specific data into the configuration files of the Environment Configuration Controller component, dynamic data is extracted into this repository and held in a hierarchical structure that facilitates its retrieval based upon details of the host being managed.</p><p>The following hierarchy will be used to categorise dynamic data:</p><ul><li>Fully qualified domain name (FQDN) - for data specific to an individual host being managed</li><li>Role - for data on hosts with the same role e.g. all Web Server hosts</li><li>Environment - for data on hosts within the same environment e.g. all hosts within cit1-ssb1 (Component Integration Test for the Shared Service Bus application)</li><li>Organisation Security Zone - for data common across all hosts within the same organisation security zone e.g. ST (for hosts that are within test environments containing synthesised test data)</li><li>Common - for data common across all hosts being managed</li></ul><p>Facts about the host being managed will be gathered by the Environment Configuration Controller component and used to lookup the correct data within this dynamic data repository.  For example, in order to establish the correct NTP time source to give to a host being managed, the details of that host (the FQDN, role of the host, environment name and organisation security zone) are gathered by an agent in the Environment Configuration Controller and sent to this component - as the NTP time source data is stored at an Organisation Security Zone, the correct NTP time source will be returned based upon the Organisation Security Zone of the host being managed.</p><p><u>Key Interfaces</u></p><p>The Environment Configuration Controller will call this component with the details of a host being managed, in order to ascertain the dynamic data that needs to be installed / managed on that host.</p>Dynamic data for a given environment will be inserted / updated within this repository as a result of check in event in the Environment Action Repository of new / amended Dynamic Environment Data.</td><td colspan="1" class="confluenceTd">Hiera DB (Hierarchical Database) - (<a class="external-link" href="https://github.com/puppetlabs/hiera" rel="nofollow">https://github.com/puppetlabs/hiera</a>)</td></tr><tr><td colspan="1" class="confluenceTd">Monitoring</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for gathering monitoring and performance indicators (CPU, memory, network, disk space and processes) from virtual machines using an agent on each monitored host and aggregating the results on a monitoring dashboard.</p><p>N.B. Within stream 1, only a basic monitoring dashboard will be build to demonstrate its capability in a cloud based environment.  Only machines that are built within the demo environment will be monitored, where monitoring will at a minimum show the availability of the virtual machines, servers and processes of the hosts being monitored.  An significant error logs on the operating system, and software on those machines will also be monitored.</p><p><u>Key Interfaces</u></p>EBSA administrators will configure the monitoring tooling to alert on specific events and thresholds to notify of current or potential problems.</td><td colspan="1" class="confluenceTd">Zabbix (<a class="external-link" href="http://www.zabbix.com/" rel="nofollow">www.zabbix.com/</a>)</td></tr><tr><td colspan="1" class="confluenceTd">Release Management Repository</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for storing the definition of Self Service deployable artefacts, namely components, applications and releases</p><p><u>Key Interfaces</u></p><p>The Self Service application is the sole consumer and contributor to this component.</p></td><td colspan="1" class="confluenceTd">MySQL (<a href="https://www.mysql.com/" class="external-link" rel="nofollow">https://www.mysql.com/</a>).</td></tr><tr><td colspan="1" class="confluenceTd">Self Service</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>This component is responsible for defining deployable packaged components, applications and releases in the release management repository.</p><p>This component also supports a user to be able to select a deployable packaged component, application or artefact and invoke its deployment to a cloud environment.</p><p><u>Key Interfaces</u></p><p>EBSA administrators and application development team configuration managers will have access to self service to be able to define deployable packages and instigate their deployment to environments.</p><p>Component, application and release definitions will be written to and read from the release management repository. Deployment descriptors will also be accessed from the environment action repository to supply information about how the deployable packages should be deployed.</p></td><td colspan="1" class="confluenceTd">Executable Java Archive (jar) - containing bespoke Java.</td></tr></tbody></table></div><p> </p><p>The interactions between these components are given in <a href="EBA---Key-Functional-Interactions_65482098.html">EBA - Key Functional Interactions</a> and more information on the design of the components is given in <a href="EBA---Component-Design_65486679.html">EBA - Component Design</a>.</p><h2 id="EBA-ArchitectureOverview-EnvironmentAccessManagement">Environment Access Management</h2><p>The Environment Access Management subsystem will be used to provision and manage user access to the IPT environments under EBSA control.</p><p>The following diagram shows the interaction of components within the Environment Access Management subsystem:</p><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/65471092/65493600.png" data-image-src="attachments/65471092/65493600.png" data-unresolved-comment-count="0" data-linked-resource-id="65493600" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Environment Access Management.png" data-base-url="https://<confluenceurl>" data-linked-resource-content-type="image/png" data-linked-resource-container-id="65471092" data-linked-resource-container-version="13"></span></p><p>The name, description, key interfaces and realisation of each component within this subsystem are described within the following table:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Component Name</th><th class="confluenceTh">Component Description</th><th class="confluenceTh">Realised By</th></tr><tr><td class="confluenceTd">Environment Access Manager</td><td class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for providing a user interface onto the Environment Access Credential Repository component enabling the granting of authorised users the right to access the IPT environments, applications and tooling whilst preventing access to unauthorised users.  The environment access manager component will enable EBSA administrators to create, update (including password resets)  and remove user access to individuals and groups, as well as associate them with pre-defined roles and permissions from the Environment Access Credential Repository which will control their authorisation to use the IPT systems and applications.  The following types of environment user access will be managed by this component:</p><ul><li>Access to environment consoles over SSH</li><li>Access to EBSA privileged application and tooling user interfaces over SSH tunnels (e.g. access to the monitoring dashboard, or Puppet master console)</li><li>Access to application / tooling user interfaces over HTTPS</li></ul><p>N.B. Within stream 1 the Environment Access Manager and Environment Access Credential Repository components will be built with a basic set of environment access user account types to enable a distinction between standard users (e.g. development partners), privileged users (e.g. EBSA administrators) and system users (e.g. Oracle DB user).  These basic user account types will be elaborated within stream 2 as the application access requirements are more fully understood.</p><p><u>Key Interfaces</u></p><p>EBSA administrators will use this components user interface to action environment access requests in line with the environment access policies and procedures.</p>Interfaces with the Environment Access Authentication component to retrieve and store environment access credentials for individuals or groups of individuals.</td><td class="confluenceTd">phpLDAPAdmin (<a href="http://phpldapadmin.sourceforge.net/wiki/index.php/Main_Page" class="external-link" rel="nofollow">http://phpldapadmin.sourceforge.net/wiki/index.php/Main_Page</a>)</td></tr><tr><td class="confluenceTd">Environment Access Credential Repository</td><td class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for providing an organised hierarchical structure of sets of user credentials used to authorise access to IPT environments, applications and tooling.  A users credentials are set up once in the credential repository by an EBSA administrator using the Environment Access Manager component, and then accessed from multiple hosts or software systems within the cloud hosting environment that require that user authentication, meaning that a single user name and password can be used by an individual, and those credentials can be authorised to access the required hosts within the IPT environments.</p><p><u>Key Interfaces</u></p><p>Hosts and software within the cloud hosting environment will integrate with the Environment Access Credential Repository in order to authorise a users access to that resource.</p>The Environment Access Manager component will provide a user interface onto the Environment Access Credential Repository in order to manage the user credentials that have access to IPT environments, applications and tooling.</td><td class="confluenceTd"><p>OpenLDAP</p>(<a href="http://www.openldap.org/" class="external-link" rel="nofollow">http://www.openldap.org/</a>)</td></tr><tr><td class="confluenceTd">Password Manager</td><td class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for providing a password vault for key system user names and passwords, for example the operating system root user password and the cloud provider system user name and password.</p><p><u>Key Interfaces</u></p><p>EBSA administrators will manually store and retrieve system passwords from within this component.</p><p>Automated system components that require access to system passwords will call an API within this component to receive the required credentials.</p>The environment manager will be notified of imminent password expiry in order to ensure they are reset in advance of expiry.</td><td class="confluenceTd">Password Manager Pro (<a href="https://www.manageengine.com/products/passwordmanagerpro/" class="external-link" rel="nofollow">https://www.manageengine.com/products/passwordmanagerpro/</a>)</td></tr><tr><td colspan="1" class="confluenceTd">SSH Jump Server</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for providing an SSH route into the hosted environments, to enable development partners (in early test environments) and EBSA administrators (in all environments) to login or SSH tunnel into individual virtual machines.  This component will authorise SSH user access to the IPT hosted environments.  There will be one SSH jump server for each Home Office organisation, and a number of organisations to provide seperability between test and production environments.</p><p><u>Key Interfaces</u></p>Users access this component from an SSH client on their local machine, using an SSH key.  The public part of this key is provided to EBSA and held within the Environment Access Credential Repository (LDAP) where it is used to authenticate the user’s access to this initial jumping point before they SSH onto other virtual machines within the hosted environments.</td><td colspan="1" class="confluenceTd">ssh (ssh deamon)</td></tr><tr><td colspan="1" class="confluenceTd">Reverse Proxy</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for providing a HTTP / HTTPS route into the hosted environments to enable business users, development partners and testers to access the IPT applications within the hosted environments.  There will be one Reverse Proxy server for each Home Office organisation, and a number of organisations to provide seperability between test and production environments.</p><p><u>Key Interfaces</u></p>Users access this component from a browser on their local machine using a URL that resolves to this proxy, which then routes traffic onto the required destination based upon the URL context.</td><td colspan="1" class="confluenceTd">Apache httpd (<a href="http://httpd.apache.org/" class="external-link" rel="nofollow">http://httpd.apache.org/</a>)</td></tr><tr><td colspan="1" class="confluenceTd">SSH Proxy</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for providing a high performance network load balancer to TCP and HTTP based applications, including the ability to act as a proxy for SSH port forwarding.</p><p>This component will provide an SSH proxy in front of the Git / Stash repositories.</p><p><u>Key Interfaces</u></p>Users access this component from a Git client on their local machine or a Git console on their local machine over SSH.</td><td colspan="1" class="confluenceTd">HA Proxy (<a href="http://freecode.com/projects/haproxy" class="external-link" rel="nofollow">http://freecode.com/projects/haproxy</a>)</td></tr></tbody></table></div><h2 id="EBA-ArchitectureOverview-ContinuousIntegration">Continuous Integration</h2><p>The Continuous Integration subsystem will be used to provide a delivery pipeline to IPT development partners into the early IPT development and test environments, providing tooling to automatically build, test and deploy the supplier’s code off the back of a code check in event or a daily build schedule.</p><p>The following diagram shows the interaction of components within the Continuous Integration subsystem:</p><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/65471092/65490914.png" data-image-src="attachments/65471092/65490914.png" data-unresolved-comment-count="0" data-linked-resource-id="65490914" data-linked-resource-version="3" data-linked-resource-type="attachment" data-linked-resource-default-alias="ContinuousIntegration.png" data-base-url="https://<confluenceurl>" data-linked-resource-content-type="image/png" data-linked-resource-container-id="65471092" data-linked-resource-container-version="13"></span></p><p>The name, description, key interfaces and realisation of each component within this subsystem are described within the following table:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Component Name</th><th class="confluenceTh">Component Description</th><th class="confluenceTh">Realised By</th></tr><tr><td class="confluenceTd">Development Continuous Integration</td><td class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for running and orchestrating the actions of a number of pre-defined jobs to build, deploy and test development partners application code, as a result of a check in event, or a daily build schedule.</p><p>Failure within any of the orchestrated steps will trigger a notify event which can be setup to email the originator of a check in or a nominated party within the respective development partner.</p><p>Different jobs will be setup to monitor different branches of code within the Source Code Repository, dependant upon the branch being monitored, different steps will be undertaken.  For example, a check in from the development branch would perform unit testing and code quality checks, whereas a check in on the continuous integration branch would deploy the build and then perform continuous integration testing.</p><p><u>Key Interfaces</u></p><p>EBSA administrators will work with the development partners to setup the required jobs using the Development Continuous Integration components dashboard.</p><p>EBSA administrators and development partners will monitor the progress of running jobs, and review completed jobs using the Development Continuous Integration components dashboard.</p><p>Test managers will be able to request builds are deployed into specific early test environments using the Development Continuous Integration components dashboard.</p><p>This component will interface to a number of other components in order to fulfil its development build, deployment and test activities.  It will integrate with the following components:</p><ul><li>Component Build - to retrieve and build the source code into a built artifact and a deployable artifact.</li><li>Artifact Repository - to store the built and deployable artifacts.</li><li>Deployment Repository - to stage the deployable artifact</li><li>Environment Configuration Controller - to deploy the deployable artifact from the deployment repository onto the target host</li></ul>Test Tooling - to perform unit, component integration or supplier system tests on the built code.  Code quality and coverage tooling may also be used.</td><td class="confluenceTd"><p>Jenkins</p>(<a href="http://jenkins-ci.org/" class="external-link" rel="nofollow">http://jenkins-ci.org/</a>)</td></tr><tr><td class="confluenceTd">Development Source Code Repository</td><td class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for storing all development partner source code within a configuration managed repository.  Each application delivery stream within IPT will be setup within its own project, which will contain a number of source code repositories, one for each technology product container (e.g. Oracle WebLogic) being delivered.</p><p>EBSA administrators will setup the projects and repositories as part of a one time setup action, along with some key branches that will trigger Development Continuous Integration events when code is checked in on them.</p><p><u>Key Interfaces</u></p><p>Developers will use the Development Source Code Repository as they develop their application components as part of their development process.</p>A check in event on certain branches within this repository will trigger a job within the Development Continuous Integration component, to build, deploy and test those changes.</td><td class="confluenceTd">This component will be realised by a number of Git repositories (<a href="http://git-scm.com/" class="external-link" rel="nofollow">http://git-scm.com/</a>), contained within a number of Stash projects (<a href="https://www.atlassian.com/software/stash" class="external-link" rel="nofollow">https://www.atlassian.com/software/stash</a>).</td></tr><tr><td class="confluenceTd">Artifact Repository</td><td class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for providing a repository for development team artifacts, built using the Development Continuous Integration component, with the ability to proxy to remote repositories to pull down commonly used artifacts.</p><p>Responsible for providing a central package manager that installs, updates and removes packages onto single target, or groups of target base operating systems.</p><p>A separate Deployment Repository component will be provided within each distinct organisation security zone to manage the packages deployed to virtual machines within that organisation security zone.</p><p><u>Key Interfaces</u></p><p>Packages will be moved from the Artifact Repository component into the deployment repository component as a result of a deployment event being orchestrated by the Development Continuous Integration component.</p>Each RHEL and CentOS base operating system will be configured to use the respective deployment repository to manage its packages.</td><td class="confluenceTd">Nexus (<a href="http://www.sonatype.org/nexus/" class="external-link" rel="nofollow">http://www.sonatype.org/nexus/</a>)</td></tr><tr><td colspan="1" class="confluenceTd">Component Build</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for managing the build of development supplier components from application source code.  A central project object model (POM) structure for each component to be built will be held within the Development Source Code Repository, which references the location of the source code to be built, any bespoke build scripts to use as part of the build, the unit tests to run on the built artifact and the dependencies that component has on other project or public artifacts.</p><p>Responsible for building deployable artifacts in Red Hat Package Manager (RPM) format.</p><p><u>Key Interfaces</u></p><p>Triggered from the Development Continuous Integration component to instigate the build of development partner source code after a check in, or daily build event.</p><p>Retrieves the POM, source code and unit tests from the Development Source Code Repository.</p><p>Integrates with unit test tooling to perform unit tests on the built artifacts.</p><p>Integrates with the Artifact Repository component to store built components, and retrieve dependent components.</p>Integrates with the Artifact Repository component to store deployable components (RPM packages).</td><td colspan="1" class="confluenceTd"><p>Maven (<a href="http://maven.apache.org" rel="nofollow">maven.apache.org</a>)</p></td></tr><tr><td colspan="1" class="confluenceTd">Email Server</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>Responsible for providing a mail server within the IPT hosted environments (one for each organisation) for sending outbound emails.  There will be one Email Server for each Home Office organisation and a number of organisations to provide seperability between test and production environments.</p><p><u>Key Interfaces</u></p>The Development Continuous Integration component will send emails to developers upon build / automated test failure within the continuous integration pipeline.</td><td colspan="1" class="confluenceTd">Postfix (<a href="http://www.postfix.org/" class="external-link" rel="nofollow">http://www.postfix.org/</a>)</td></tr><tr><td colspan="1" class="confluenceTd">Code Quality / Coverage Tooling</td><td colspan="1" class="confluenceTd"><p><u>Responsibilities</u></p><p>This component will analyse a sub-set of the development partners code (code that can be analysed by the tooling) to provide reports on code quality (based on agreed metrics) and code coverage as a result of automated testing.</p><p><u>Key Interfaces</u></p>This component will be automatically run as part of the continuous integration pipeline by the Development Continuous Integration server.</td><td colspan="1" class="confluenceTd">SonarQube (<a href="http://www.sonarqube.org/" class="external-link" rel="nofollow">http://www.sonarqube.org/</a>)</td></tr></tbody></table></div>
                    </div>

                                        
                    
                 
                </div>             </div> 
            
        </div>     </body>
</html>
